let data = [{
        "id": 1,
        "name": "Ahmed Bustani",
        "assistant": true,
        "group": "Orange"
    },
    {
        "id": 2,
        "name": "Baris Tunar",
        "assistant": true,
        "group": "Crimson"
    },
    {
        "id": 3,
        "name": "Burak Caglar",
        "assistant": true,
        "group": "Khaki"
    },
    {
        "id": 4,
        "name": "ah. fawad",
        "assistant": true,
        "group": "Pink"
    },
    {
        "id": 5,
        "name": "Furkan KILIÇER",
        "assistant": true,
        "group": "Aquamarine"
    },
    {
        "id": 6,
        "name": "Alperen Aslan",
        "assistant": true,
        "group": "Turquoise"
    },
    {
        "id": 7,
        "name": "joudi bitar",
        "assistant": true,
        "group": "Yellow"
    },
    {
        "id": 8,
        "name": "Kübra Özdem",
        "assistant": true,
        "group": "Goldenrod"
    },
    {
        "id": 9,
        "name": "Aycan",
        "assistant": true,
        "group": "Fuscia"
    },
    {
        "id": 10,
        "name": "Aykut Şahin",
        "assistant": true,
        "group": "Puce"
    },
    {
        "id": 11,
        "name": "S. Zahit ACAR",
        "assistant": true,
        "group": "Maroon"
    },
    {
        "id": 12,
        "name": "Tugay Türk",
        "assistant": true,
        "group": "Purple"
    },
    {
        "id": 13,
        "name": "Abdurrahman Seyidoğlu",
        "assistant": false,
        "group": "Aquamarine"
    },
    {
        "id": 14,
        "name": "Ahmed Tabşo",
        "assistant": false,
        "group": "Crimson"
    },
    {
        "id": 15,
        "name": "Alaa Alaff",
        "assistant": false,
        "group": "Fuscia"
    },
    {
        "id": 16,
        "name": "ASSKOUR Imane",
        "assistant": false,
        "group": "Goldenrod"
    },
    {
        "id": 17,
        "name": "Aydoğan Gökberk",
        "assistant": false,
        "group": "Khaki"
    },
    {
        "id": 18,
        "name": "BAHADDİN ALMUHAMMED",
        "assistant": false,
        "group": "Khaki"
    },
    {
        "id": 19,
        "name": "Büşra Bilgin",
        "assistant": false,
        "group": "Maroon"
    },
    {
        "id": 20,
        "name": "Chimnaz Vahabzade",
        "assistant": false,
        "group": "Orange"
    },
    {
        "id": 21,
        "name": "Çağatay Sarıoğlan",
        "assistant": false,
        "group": "Pink"
    },
    {
        "id": 22,
        "name": "dana alhameed",
        "assistant": false,
        "group": "Puce"
    },
    {
        "id": 23,
        "name": "Delfin Öztürk",
        "assistant": false,
        "group": "Purple"
    },
    {
        "id": 24,
        "name": "Ebubekir Karataş",
        "assistant": false,
        "group": "Yellow"
    },
    {
        "id": 25,
        "name": "Ela Yağmur ",
        "assistant": false,
        "group": "Turquoise"
    },
    {
        "id": 26,
        "name": "ELNAZ HAMEDIBAZAZ",
        "assistant": false,
        "group": "Pink"
    },
    {
        "id": 27,
        "name": "Fatma Şehitoğlu",
        "assistant": false,
        "group": "Goldenrod"
    },
    {
        "id": 28,
        "name": "Feras Alkilani",
        "assistant": false,
        "group": "Fuscia"
    },
    {
        "id": 29,
        "name": "Gizem Nur Korkmaz",
        "assistant": false,
        "group": "Crimson"
    },
    {
        "id": 30,
        "name": "Halil İbrahim Badem",
        "assistant": false,
        "group": "Aquamarine"
    },
    {
        "id": 31,
        "name": "Hasan ALKHALAF",
        "assistant": false,
        "group": "Aquamarine"
    },
    {
        "id": 32,
        "name": "Hatice Sürümlü",
        "assistant": false,
        "group": "Purple"
    },
    {
        "id": 33,
        "name": "IMAN ALABID",
        "assistant": false,
        "group": "Maroon"
    },
    {
        "id": 34,
        "name": "Işıl Özkaynak",
        "assistant": false,
        "group": "Goldenrod"
    },
    {
        "id": 35,
        "name": "İbrahim Halil DÖŞ",
        "assistant": false,
        "group": "Crimson"
    },
    {
        "id": 36,
        "name": "İlkay Çitak",
        "assistant": false,
        "group": "Aquamarine"
    },
    {
        "id": 37,
        "name": "Kenan Mirzeyev",
        "assistant": false,
        "group": "Yellow"
    },
    {
        "id": 38,
        "name": "Melisa Gürdal",
        "assistant": false,
        "group": "Goldenrod"
    },
    {
        "id": 39,
        "name": "Merve Şahin",
        "assistant": false,
        "group": "Orange"
    },
    {
        "id": 40,
        "name": "MHD NABIL ARAR",
        "assistant": false,
        "group": "Yellow"
    },
    {
        "id": 41,
        "name": "Muhammet BİLGİN",
        "assistant": false,
        "group": "Orange"
    },
    {
        "id": 42,
        "name": "Nurgeldi Atamyradov",
        "assistant": false,
        "group": "Khaki"
    },
    {
        "id": 43,
        "name": "Ozan Ali TÜRKYILMAZ",
        "assistant": false,
        "group": "Pink"
    },
    {
        "id": 44,
        "name": "Özge Yurdusev",
        "assistant": false,
        "group": "Goldenrod"
    },
    {
        "id": 45,
        "name": "Parahat Nepesov",
        "assistant": false,
        "group": "Puce"
    },
    {
        "id": 46,
        "name": "Rined haj osman",
        "assistant": false,
        "group": "Turquoise"
    },
    {
        "id": 47,
        "name": "Serkan Çelik",
        "assistant": false,
        "group": "Yellow"
    },
    {
        "id": 48,
        "name": "Sinem Nurioğlu",
        "assistant": false,
        "group": "Aquamarine"
    },
    {
        "id": 49,
        "name": "Şifa Hasani",
        "assistant": false,
        "group": "Turquoise"
    },
    {
        "id": 50,
        "name": "Yasemin Paşaoğlu",
        "assistant": false,
        "group": "Yellow"
    },
    {
        "id": 51,
        "name": "Yusuf sabbagh",
        "assistant": false,
        "group": "Crimson"
    },
    {
        "id": 52,
        "name": "Nurgeldi Atamyradov",
        "assistant": false,
        "group": "Yellow"
    }
];


function getData(arr) {
    // map over the data to have a non-dupliacte array of all the colors;
    function mapToCreateColorsArray(arr) {
        let result = arr.map(element => element.group);
        // the "Set" data type doesn't allow duplicates thus doing the job for us automatically;
        let nonDuplicate = new Set(result);
        return nonDuplicate;
    };

    const main = document.querySelector("#main-content");
    let nonDuplicateArrayOfColors = mapToCreateColorsArray(data);

    nonDuplicateArrayOfColors.forEach(element => {
        let containerCard = document.createElement("div");
        containerCard.classList.add("card");

        // two of the colors aren't native css colors, so here is a fallback;
        if (element === "Fuscia") containerCard.style.backgroundColor = "#FF00FF";
        if (element === "Puce") containerCard.style.backgroundColor = "#CC8899";
        containerCard.style.backgroundColor = element;

        let cardHeader = document.createElement("div");
        cardHeader.classList.add("card-header");

        let cardBody = document.createElement("div");
        cardBody.classList.add("card-body");

        // The data we got appears to have two duplicate student objects, here we remove the duplicate object;
        const noDuplicateStudentNamesArray = arr.filter((object, index) => {
            // make an array of all the names, to locate the two duplicate names and then filter only returns the first instnace of the two (by comparing indexes);
            let allNamesArray = arr.map(student => student.name);
            // return one instance of each duplicate by comparing each object and its index. (in this case, we only have two duplicated objects, only one of them will get returned and the duplicated one will be removed);
            return allNamesArray.indexOf(object.name) === index;
        });

        noDuplicateStudentNamesArray.forEach(obj => {
            // group refers to the color group;
            if (obj.group === element) {
                let assistantName = document.createElement("h2");
                if (obj.assistant) {
                    assistantName.textContent = `${element} group's Teaching Assistant is: ${obj.name}`;
                    cardHeader.append(assistantName);
                } else {
                    let div = document.createElement("div");
                    div.classList.add("wrapper");

                    let studentName = document.createElement("h3");
                    let studentID = document.createElement("p");

                    studentName.textContent = `Student: ${obj.name}`;
                    studentID.textContent = `ID: ${obj.id}`;

                    div.append(studentName);
                    div.append(studentID);
                    cardBody.append(div);
                }
            }
        });

        containerCard.append(cardHeader);
        containerCard.append(cardBody);
        main.append(containerCard);

    });
};

getData(data);